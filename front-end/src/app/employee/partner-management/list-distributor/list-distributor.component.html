<div class="container">
  <div>
    <div class="row">
      <div class="col-6">
        <h2 class="d-flex">Danh Sách Nhà Phân Phối</h2>
      </div>
      <div class="col-6 d-flex searchCustom">
        <input class="form-control" type="text"  [(ngModel)]="search" (ngModelChange)="searchName()" placeholder="Tìm kiếm theo tên" style="width: 200px">
        <button class="btn btn-primary buttonSearchCustom"  (click)="searchName()">Tìm kiếm</button>
        <button *ngIf="isSearch === true" class="btn btn-outline-danger ml-1" (click)="backToSearch()">Quay về</button>
      </div>
    </div>


    <button class="btn btn-primary" (click)="openCreateForm()">Thêm Mới</button>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#openCreateForm" id="createForm"
            hidden>Large modal
    </button>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600'
          rel='stylesheet' type='text/css'>
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.1.1/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <form (ngSubmit)="onSubmit()" [formGroup]="myForm">
      <div id="openCreateForm" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
           aria-hidden="true" data-backdrop="static" data-keyboard="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-title" id="modal-title">
            <h1>THÊM MỚI NHÀ PHÂN PHỐI</h1>
          </div>
          <div class="modal-content">
            <div class="modal-body row">
              <div class="col-xl-12" style="position: relative">
                <div class="boundary row">
                  <div class="col-xl-12">
                    <div class="row">
                      <div class="col-xl-4">
                        <mat-card (mouseover)="hoverUploadPic()" class="mat-card-img" (mouseleave)="leaveUploadPic()"
                                  (click)="selectAvatar()">
                          <img id="avatar" src={{src}}>
                          <input formControlName="id" readonly hidden>
                          <input class="file-upload-input" type='file'
                                 (change)="readURL($event.target);" accept="image/*"
                                 hidden id="myAvatar"/>
                          <i class="img"
                             style="font-size: 100px; color: blue; position: absolute; left: 60px; top:60px ; opacity: 0.1"
                             class="icon-upload-alt"></i>
                        </mat-card>
                        <div class="boxes">
                          <div class="checkItem">
                            <input type="checkbox" id="box-1" (change)="chooseAll($event.target)" value="Tất cả">
                            <label for="box-1">Phân phối tất cả</label>
                          </div>
                          <div class="checkItem">
                            <input type="checkbox" id="box-2" (change)="chooseOne($event.target)" value="Bánh">
                            <label for="box-2">Bánh</label>
                          </div>
                          <div class="checkItem" (change)="chooseOne($event.target)">
                            <input type="checkbox" id="box-3" value="Kẹo">
                            <label for="box-3">Kẹo</label>
                          </div>
                        </div>
                      </div>
                      <div class="col-xl-8">
                        <div class="item" style="margin-top: 20px" data-tip="Tên nhà phân phối">
                          <input type="text" formControlName="name" id="name2" placeholder="Tên nhà phân phối (*)"/>
                          <label id="icon" for="name2"><i class="icon-user"></i></label>
                          <span>Validate </span>
                        </div>
                        <div class="item">
                          <input type="text" id="address1" formControlName="address" placeholder="Địa chỉ (*)"/>
                          <label id="icon" for="address1"><i class="icon-map-marker"></i></label>
                        </div>
                        <div class="item">
                          <input type="text" id="email1" placeholder="Email (*)" formControlName="email"/>
                          <label id="icon" for="email1"><i class="icon-envelope-alt"></i></label>
                        </div>
                        <div class="item">
                          <input type="text" id="website1" placeholder="Website" formControlName="website"/>
                          <label id="icon2" for="website1"><i class="fa fa-internet-explorer" aria-hidden="true"></i>
                          </label>
                        </div>
                        <div class="item">
                          <div class="div1">
                            <input type="text" formControlName="numberPhone" id="phone1" placeholder="Số điện thoại (*)"/>
                            <label id="icon" for="phone1"><i class="icon-phone"></i> </label>
                          </div>
                          <div class="div2">
                            <input type="text" formControlName="fax" id="fax1" placeholder="Fax"/>
                            <label id="icon2" for="fax1"><i class="fa fa-fax" aria-hidden="true"></i> </label>
                          </div>
                        </div>
                        <div class="item" style="margin-bottom: 15px">
                          <!--                      <div class="div1">-->
                          <!--                      </div>-->
                          <div class="div2">
                            <button class="btn btn-secondary " data-dismiss="modal" id="deleteFormCreate"
                                    style="float: right;background-color: #4c4c4c">
                              Hủy
                            </button>
                            <button class="btn btn-info " type="submit"
                                    style="background-color: #3a57af; float: left"> Thêm
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
    <table class="table">
      <thead>
      <tr>
        <th scope="col">Mã</th>
        <th scope="col">Tên Nhà Phân Phối</th>
        <th scope="col">Địa chỉ</th>
        <th scope="col">Số điện thoại</th>
        <th scope="col">Email</th>
        <th scope="col">Thao tác</th>
      </tr>
      </thead>
      <tbody>
      <ng-container *ngFor="let distributor of distributorList ">
        <tr>
          <td>{{distributor.id}}</td>
          <td>{{distributor.name}}</td>
          <td>{{distributor.address}}</td>
          <td>{{distributor.numberPhone}}</td>
          <td>{{distributor.email}}</td>
          <td>
             <i class="fas fa-pen" (click)="openEditForm(distributor.id)"></i>
          </td>
        <td>
         <i (click)="openDeleteForm(distributor.id)" class="fas fa-trash"></i>
        </td>
        <td>
          <i (click)="openDetailForm(distributor.id)" class="fa fa-info"></i>
        </td>
        <tr>
      </ng-container>
      </tbody>
    </table>
  </div>
  <div class="paging-course fixed-bottom">
    <nav aria-label="Page navigation example">
      <ul class="pagination">
        <li class="page-item" (click)="onFirst()"><a class="page-link">First</a></li>
        <li class="page-item" (click)="onPrevious()" [ngClass]="pageClick==0?'disabled':''">
          <a class="page-link">Previous</a>
        </li>
        <li *ngIf="pageClick != 0" class="page-item" (click)="onChange(pages[pageClick-1])">
          <a class="page-link">{{pageClick}}</a>
        </li>
        <li [ngClass]="(pageClick == pages[pageClick]) ? 'active' : ''" class="page-item"
            (click)="onChange(pages[pageClick])">
          <a class="page-link">{{pageClick+1}}</a>
        </li>
        <li *ngIf="pageClick < pages.length -1" class="page-item" (click)="onChange(pages[pageClick+1])">
          <a class="page-link">{{pageClick+2}}</a>
        </li>
        <li *ngIf="pageClick < pages.length -2" class="page-item">
          <a class="page-link">...</a>
        </li>
        <li *ngIf="pageClick < pages.length-2" class="page-item" (click)="onLast()">
          <a class="page-link">{{pages[pages.length-1]+1}}</a>
        </li>
        <li class="page-item" (click)="onNext()" [ngClass]="pageClick==totalPages-1?'disabled':''">
          <a class="page-link">Next</a>
        </li>
        <li class="page-item" (click)="onLast()"><a class="page-link">Last</a></li>
      </ul>
    </nav>
  </div>
</div>



<!--Detail Form-->

<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#detailForm" id="btn-detailForm"
        hidden>Large modal
</button>
<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600'
      rel='stylesheet' type='text/css'>
<link href="//netdna.bootstrapcdn.com/font-awesome/3.1.1/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<form [formGroup]="myForm">
  <div id="detailForm" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
       aria-hidden="true" data-backdrop="static" data-keyboard="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-title" id="modal-title">
        <h1>THÔNG TIN NHÀ PHÂN PHỐI</h1>
      </div>
      <div class="modal-content">
        <div class="modal-body row">
          <div class="col-xl-12" style="position: relative">
            <div class="boundary row">
              <div class="col-xl-12">
                <div class="row">
                  <div class="col-xl-4">
                    <mat-card (mouseover)="hoverUploadPic()" class="mat-card-img" (mouseleave)="leaveUploadPic()"
                              (click)="selectAvatar()">
                      <img id="avatar" src={{src}}>
                      <input formControlName="id" readonly hidden>
                      <input  readonly class="file-upload-input" type='file'
                              (change)="readURL($event.target);" accept="image/*"
                              hidden id="myAvatar"/>
                      <i class="img"
                         style="font-size: 100px; color: blue; position: absolute; left: 60px; top:60px ; opacity: 0.1"
                         class="icon-upload-alt"></i>
                    </mat-card>
                    <div class="boxes">
                      <div class="checkItem">
                        <input type="checkbox" id="box-1" (change)="chooseAll($event.target)" value="Tất cả" readonly>
                        <label for="box-1">Phân phối tất cả</label>
                      </div>
                      <div class="checkItem">
                        <input type="checkbox" id="box-2" (change)="chooseOne($event.target)" value="Bánh" readonly>
                        <label for="box-2">Bánh</label>
                      </div>
                      <div class="checkItem" (change)="chooseOne($event.target)">
                        <input type="checkbox" id="box-3" value="Kẹo" readonly>
                        <label for="box-3">Kẹo</label>
                      </div>
                    </div>
                  </div>
                  <div class="col-xl-8">
                    <div class="item" style="margin-top: 20px" data-tip="Tên nhà phân phối">
                      <input readonly type="text" formControlName="name" id="name1" placeholder="Tên nhà phân phối"/>
                      <label id="icon" for="name1"><i class="icon-user"></i></label>
                      <span>Validate </span>
                    </div>
                    <div class="item">
                      <input readonly type="text" id="address" formControlName="address" placeholder="Địa chỉ"/>
                      <label id="icon" for="address"><i class="icon-map-marker"></i></label>
                    </div>
                    <div class="item">
                      <input readonly type="text" id="email" placeholder="Email" formControlName="email"/>
                      <label id="icon" for="email"><i class="icon-envelope-alt"></i></label>
                    </div>
                    <div class="item">
                      <input readonly type="text" id="website" placeholder="Website" formControlName="website"/>
                      <label id="icon2" for="website"><i class="fa fa-internet-explorer" aria-hidden="true"></i>
                      </label>
                    </div>
                    <div class="item">
                      <div class="div1">
                        <input readonly type="text" formControlName="numberPhone" id="phone" placeholder="Số điện thoại"/>
                        <label id="icon" for="phone"><i class="icon-phone"></i> </label>
                      </div>
                      <div class="div2">
                        <input  type="text" formControlName="fax" id="fax" placeholder="Fax" readonly />
                        <label id="icon2" for="fax"><i class="fa fa-fax" aria-hidden="true"></i> </label>
                      </div>
                    </div>
                    <div class="item" style="margin-bottom: 15px">
                      <!--                      <div class="div1">-->
                      <!--                      </div>-->
                      <div class="div2">
                        <button class="btn btn-secondary " data-dismiss="modal"
                                style="float: right;background-color: #4c4c4c">
                          HỦY
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
<!--//EDIT FORM-->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#editForm" id="btn-editForm"
        hidden>Large modal
</button>
<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600'
      rel='stylesheet' type='text/css'>
<link href="//netdna.bootstrapcdn.com/font-awesome/3.1.1/css/font-awesome.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<form (ngSubmit)="updateDistributor()" [formGroup]="myForm">
  <div id="editForm" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
       aria-hidden="true" data-backdrop="static" data-keyboard="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-title" id="modal-title">
        <h1>CHỈNH SỬA NHÀ PHÂN PHỐI</h1>
      </div>
      <div class="modal-content">
        <div class="modal-body row">
          <div class="col-xl-12" style="position: relative">
            <div class="boundary row">
              <div class="col-xl-12">
                <div class="row">
                  <div class="col-xl-4">
                    <mat-card (mouseover)="hoverUploadPic()" class="mat-card-img" (mouseleave)="leaveUploadPic()"
                              (click)="selectAvatar()">
                      <img id="avatar" src={{src}}>
                      <input formControlName="id" readonly hidden>
                      <input class="file-upload-input" type='file'
                             (change)="readURL($event.target);" accept="image/*"
                             hidden id="myAvatar"/>
                      <i class="img"
                         style="font-size: 100px; color: blue; position: absolute; left: 60px; top:60px ; opacity: 0.1"
                         class="icon-upload-alt"></i>
                    </mat-card>
                    <div class="boxes">
                      <div class="checkItem">
                        <input type="checkbox" id="box-1" (change)="chooseAll($event.target)" value="Tất cả">
                        <label for="box-1">Phân phối tất cả</label>
                      </div>
                      <div class="checkItem">
                        <input type="checkbox" id="box-2" (change)="chooseOne($event.target)" value="Bánh">
                        <label for="box-2">Bánh</label>
                      </div>
                      <div class="checkItem" (change)="chooseOne($event.target)">
                        <input type="checkbox" id="box-3" value="Kẹo">
                        <label for="box-3">Kẹo</label>
                      </div>
                    </div>
                  </div>
                  <div class="col-xl-8">
                    <div class="item" style="margin-top: 20px" data-tip="Tên nhà phân phối">
                      <input type="text" formControlName="name" id="name3" placeholder="Tên nhà phân phối"/>
                      <label id="icon" for="name3"><i class="icon-user"></i></label>
                      <span>Validate </span>
                    </div>
                    <div class="item">
                      <input type="text" id="address3" formControlName="address" placeholder="Địa chỉ"/>
                      <label id="icon" for="address3"><i class="icon-map-marker"></i></label>
                    </div>
                    <div class="item">
                      <input type="text" id="email3" placeholder="Email" formControlName="email"/>
                      <label id="icon" for="email3"><i class="icon-envelope-alt"></i></label>
                    </div>
                    <div class="item">
                      <input type="text" id="website3" placeholder="Website" formControlName="website"/>
                      <label id="icon2" for="website3"><i class="fa fa-internet-explorer" aria-hidden="true"></i>
                      </label>
                    </div>
                    <div class="item">
                      <div class="div1">
                        <input type="text" formControlName="numberPhone" id="phone3" placeholder="Số điện thoại"/>
                        <label id="icon" for="phone3"><i class="icon-phone"></i> </label>
                      </div>
                      <div class="div2">
                        <input type="text" formControlName="fax" id="fax3" placeholder="Fax"/>
                        <label id="icon2" for="fax3"><i class="fa fa-fax" aria-hidden="true"></i> </label>
                      </div>
                    </div>
                    <div class="item" style="margin-bottom: 15px">
                      <!--                      <div class="div1">-->
                      <!--                      </div>-->
                      <div class="div2">
                        <button class="btn btn-secondary " data-dismiss="modal"
                                style="float: right;background-color: #4c4c4c">
                          HỦY
                        </button>
                        <button class="btn btn-info" type="submit"
                                style="background-color: #3a57af; float: left"> SỬA
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
<!--DELETE FORM-->
<button id="deleteForm" type="button" class="btn btn-primary" data-toggle="modal" data-target=".delete" hidden>Large modal
</button>
<div class="modal fade bd-example-modal-sm delete" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
     aria-hidden="true" data-backdrop="static" data-keyboard="true">
  <div class="modal-dialog" >
    <div class="modal-title" id="modal-title2">
      <h1>XÓA NHÀ PHÂN PHỐI</h1>
    </div>
    <div class="modal-content">
      <h5 class="deleteTitle">Bạn có muốn xóa nhà phân phối?</h5>
      <h5 *ngIf="myDistributor" class="deleteTitle distributorName">{{myDistributor.name}}</h5>
      <div>
        <button class="btn btn-dark myButton" data-dismiss="modal">HỦY</button>
        <button class="btn btn-danger myButton" data-dismiss="modal">XÓA</button>
      </div>
    </div>
  </div>
</div>
